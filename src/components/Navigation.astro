---
interface LinkItem {
  href: string;
  label: string;
}

const { links = [] } = Astro.props as { links: LinkItem[] };
const currentPath = Astro.url.pathname;

const normalize = (p: string) => (p === '/' ? '/' : p.replace(/\/+$/, ''));
const isActive = (href: string) => {
  const a = normalize(href);
  const b = normalize(currentPath);
  if (a === '/') return b === '/';
  return b === a || b.startsWith(a + '/');
};
---
<nav class="flex items-center justify-end" aria-label="Main Navigation">
  <ul class="flex gap-6">
    {links.map((link) => (
      <li>
        <a
          href={link.href}
          class={`rune-link rounded px-1.5 py-1 text-xs font-semibold uppercase tracking-[0.12em] focus:outline-none focus:ring-2 focus:ring-black/40 dark:focus:ring-white/60 ${isActive(link.href) ? 'text-[color:var(--accent)]' : 'text-[color:var(--muted)]'}`}
        >
          {link.label}
        </a>
      </li>
    ))}
  </ul>
  
</nav>
